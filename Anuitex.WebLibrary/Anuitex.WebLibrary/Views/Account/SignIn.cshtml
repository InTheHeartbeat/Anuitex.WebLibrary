@model Anuitex.WebLibrary.Models.SignInModel
<script type="text/javascript">
    function OnSignInSuccess() {
        @if (Model.CurrentUser != null) {
            @:window.location.reload(false);
        }
        else
        {
            @:$('input[type="submit"]').prop('disabled', false);
        }
    }

    function OnSignInBegin() {
        $('input[type="submit"]').prop('disabled', true);
    }
</script>
    <div class="windows-container">
        <div class="page-window">
            <div class="page-window-header">
                <span class="icon ic-signin"></span>
                <h4>Sign in</h4>
                <div class="cssload-container" id="load-anim" style="float: right">
                    <ul class="cssload-flex-container">
                        <li>
                            <span class="cssload-loading"></span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="page-window-container">
            @using (Ajax.BeginForm("ComputeSignIn", "Account", new AjaxOptions() { HttpMethod = "POST", UpdateTargetId = "sing-container", InsertionMode = InsertionMode.Replace, OnSuccess = "OnSignInSuccess", LoadingElementId = "load-anim", OnBegin = "OnSignInBegin"}))
            {
                @Html.ValidationMessageFor(msg => msg.Login)
                @Html.TextBoxFor(l => l.Login, new {@placeholder = "Login", @type = "text"})
                @Html.ValidationMessageFor(msg => msg.Password)
                @Html.TextBoxFor(l => l.Password, new {@placeholder = "Password", @type = "password"})
                <input type="submit" class="btn" value="Let me in!">
                @Html.ValidationSummary(true)
            }
            </div>
        </div>
    </div>

